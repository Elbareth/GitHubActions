name: 06 â€“ Contexts - Weather
on: 
  workflow_dispatch:
jobs:
  echo-data:
    runs-on: ubuntu-latest
    inputs:
      city:
        description: "Miasto"
        type: string
        default: 'Warsaw'
        required: true
    defaults:
      run: 
        shell: bash
        working-directory: ./CWICZENIA/06-context/pogoda_python
    env:
      MY_KEY: ${{secret.KEY_API}}
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3 
      - name: Pobierz informacje o pogodzie
        uses: |
          python3 ./start.py ${{ inputs.city != '' && input.city || 'Warsaw' }} ${{ env.MY_KEY }} >> $GITHUB_STEP_SUMMARY
